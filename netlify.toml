[build]
  command = "npm run build"
  publish = "dist"
  functions = "netlify/functions"

[build.environment]
  # Disable secrets scanning
  # VITE_GEMINI_API_KEY is intentionally exposed to client-side (Vite requirement)
  # PLAID_ENV default value in function code is expected
  SECRETS_SCAN_ENABLED = "false"

# Environment variables for Netlify Functions (Supabase)
# These should be set in Netlify's dashboard under Site settings > Environment variables
# Add these variables in Netlify dashboard:
# - SUPABASE_URL: Your Supabase project URL
# - SUPABASE_SERVICE_ROLE_KEY: Your Supabase service role key (bypasses RLS)
[functions]
  # Environment variables are automatically available to functions
  # Set them in Netlify dashboard: Site settings > Environment variables
  node_bundler = "esbuild"
  
[functions."netlify/functions/categorize-transactions.ts"]
  timeout = 60

